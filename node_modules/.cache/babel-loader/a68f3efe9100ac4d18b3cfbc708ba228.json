{"ast":null,"code":"import _regeneratorRuntime from \"/Users/peterdemaio/Prime/tier3/Solo-Project-2.0/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(preferencesSaga),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getPreferences),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(searchPreferences),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(editPreference);\n\nimport { put, takeEvery } from 'redux-saga/effects';\nimport axios from 'axios';\n\nfunction preferencesSaga() {\n  return _regeneratorRuntime.wrap(function preferencesSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return takeEvery('GET_USER_PREFERENCES', getPreferences);\n\n        case 2:\n          _context.next = 4;\n          return takeEvery('GET_SEARCH_PREFERENCES', searchPreferences);\n\n        case 4:\n          _context.next = 6;\n          return takeEvery('EDIT_PREFERENCE', editPreference);\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction getPreferences(action) {\n  var id, response;\n  return _regeneratorRuntime.wrap(function getPreferences$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          id = action.payload;\n          _context2.next = 4;\n          return axios.get(\"/preferences/\".concat(id));\n\n        case 4:\n          response = _context2.sent;\n          _context2.next = 7;\n          return put({\n            type: 'SET_PREFERENCES_LIST',\n            payload: response.data\n          });\n\n        case 7:\n          _context2.next = 12;\n          break;\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(_context2.t0);\n\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 9]]);\n}\n\nfunction searchPreferences(action) {\n  var id, response;\n  return _regeneratorRuntime.wrap(function searchPreferences$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          console.log(action.payload);\n          id = action.payload.id;\n          _context3.prev = 2;\n          _context3.next = 5;\n          return axios.get(\"/searchPreferences/?id=\".concat(id));\n\n        case 5:\n          response = _context3.sent;\n          _context3.next = 8;\n          return put({\n            type: 'SET_SEARCH_PREFERENCES',\n            payload: response.data\n          });\n\n        case 8:\n          _context3.next = 13;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3[\"catch\"](2);\n          console.log('There was a grave mistake');\n\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[2, 10]]);\n}\n\nfunction editPreference(action) {\n  var response;\n  return _regeneratorRuntime.wrap(function editPreference$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // edit the preference then go get the preference list again\n          console.log('in edit saga with:', action.payload);\n          _context4.prev = 1;\n          _context4.next = 4;\n          return axios.put('/preferences', action.payload);\n\n        case 4:\n          response = _context4.sent;\n          console.log('getting back from edit route with response.data of:', response.data);\n          _context4.next = 8;\n          return put({\n            type: 'GET_USER_PREFERENCES',\n            payload: response.data.user_id\n          });\n\n        case 8:\n          _context4.next = 13;\n          break;\n\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](1);\n          console.log('there was an error, try again');\n\n        case 13:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, null, [[1, 10]]);\n}\n\nexport default preferencesSaga;","map":{"version":3,"sources":["/Users/peterdemaio/Prime/tier3/Solo-Project-2.0/src/redux/sagas/preferencesMaster.js"],"names":["preferencesSaga","getPreferences","searchPreferences","editPreference","put","takeEvery","axios","action","id","payload","get","response","type","data","console","log","user_id"],"mappings":";;;;yBAGUA,e;;;yBAMAC,c;;;yBAaAC,iB;;;yBAcAC,c;;AApCV,SAASC,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAAUN,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,iBAAMK,SAAS,CAAE,sBAAF,EAA0BJ,cAA1B,CAAf;;AADJ;AAAA;AAEI,iBAAMI,SAAS,CAAE,wBAAF,EAA4BH,iBAA5B,CAAf;;AAFJ;AAAA;AAGI,iBAAMG,SAAS,CAAE,iBAAF,EAAqBF,cAArB,CAAf;;AAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMA,SAAUF,cAAV,CAAyBM,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEYC,UAAAA,EAFZ,GAEiBD,MAAM,CAACE,OAFxB;AAAA;AAGuB,iBAAMH,KAAK,CAACI,GAAN,wBAA0BF,EAA1B,EAAN;;AAHvB;AAGYG,UAAAA,QAHZ;AAAA;AAIQ,iBAAMP,GAAG,CAAC;AACNQ,YAAAA,IAAI,EAAE,sBADA;AAENH,YAAAA,OAAO,EAAEE,QAAQ,CAACE;AAFZ,WAAD,CAAT;;AAJR;AAAA;AAAA;;AAAA;AAAA;AAAA;AASQC,UAAAA,OAAO,CAACC,GAAR;;AATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAaA,SAAUb,iBAAV,CAA4BK,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AACIO,UAAAA,OAAO,CAACC,GAAR,CAAYR,MAAM,CAACE,OAAnB;AACID,UAAAA,EAFR,GAEaD,MAAM,CAACE,OAAP,CAAeD,EAF5B;AAAA;AAAA;AAIuB,iBAAMF,KAAK,CAACI,GAAN,kCAAoCF,EAApC,EAAN;;AAJvB;AAIYG,UAAAA,QAJZ;AAAA;AAKQ,iBAAMP,GAAG,CAAE;AACPQ,YAAAA,IAAI,EAAE,wBADC;AAEPH,YAAAA,OAAO,EAAEE,QAAQ,CAACE;AAFX,WAAF,CAAT;;AALR;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUQC,UAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;;AAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcA,SAAUZ,cAAV,CAAyBI,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AACAO,UAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCR,MAAM,CAACE,OAAzC;AAFJ;AAAA;AAIuB,iBAAMH,KAAK,CAACF,GAAN,CAAU,cAAV,EAA0BG,MAAM,CAACE,OAAjC,CAAN;;AAJvB;AAIYE,UAAAA,QAJZ;AAKQG,UAAAA,OAAO,CAACC,GAAR,CAAY,qDAAZ,EAAmEJ,QAAQ,CAACE,IAA5E;AALR;AAMQ,iBAAMT,GAAG,CAAE;AAACQ,YAAAA,IAAI,EAAE,sBAAP;AAA+BH,YAAAA,OAAO,EAAEE,QAAQ,CAACE,IAAT,CAAcG;AAAtD,WAAF,CAAT;;AANR;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQQF,UAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;;AARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,eAAef,eAAf","sourcesContent":["import { put, takeEvery } from 'redux-saga/effects';\nimport axios from 'axios';\n\nfunction* preferencesSaga() {\n    yield takeEvery ('GET_USER_PREFERENCES', getPreferences);\n    yield takeEvery ('GET_SEARCH_PREFERENCES', searchPreferences)\n    yield takeEvery ('EDIT_PREFERENCE', editPreference)\n}\n\nfunction* getPreferences(action) {\n    try {\n        let id = action.payload\n        let response = yield axios.get(`/preferences/${id}`)\n        yield put({\n            type: 'SET_PREFERENCES_LIST',\n            payload: response.data\n        })\n    } catch (err) {\n        console.log(err)\n    }\n}\n\nfunction* searchPreferences(action) {\n    console.log(action.payload)\n    let id = action.payload.id\n    try{\n        let response = yield axios.get(`/searchPreferences/?id=${id}`)\n        yield put ({\n            type: 'SET_SEARCH_PREFERENCES',\n            payload: response.data\n        })\n    } catch {\n        console.log('There was a grave mistake')\n    }\n}\n\nfunction* editPreference(action) {\n    // edit the preference then go get the preference list again\n    console.log('in edit saga with:', action.payload)\n    try {\n        let response = yield axios.put('/preferences', action.payload)\n        console.log('getting back from edit route with response.data of:', response.data)\n        yield put ({type: 'GET_USER_PREFERENCES', payload: response.data.user_id})\n    } catch {\n        console.log('there was an error, try again')\n    }\n}\nexport default preferencesSaga"]},"metadata":{},"sourceType":"module"}